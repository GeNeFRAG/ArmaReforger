<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Arma Reforger Mortar & Artillery Calculator | Fire Mission Planner</title>
    <meta name="title" content="Arma Reforger Mortar & Artillery Calculator | Fire Mission Planner">
    <meta name="description" content="Free ballistic calculator for Arma Reforger. Calculate precise mortar, artillery, and MLRS fire missions with grid coordinates and elevation support.">
    <meta name="author" content="ArmaMortars.org">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://armamortars.org/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://armamortars.org/">
    <meta property="og:title" content="Arma Reforger Mortar & Artillery Calculator | Fire Mission Planner">
    <meta property="og:description" content="Free ballistic calculator for Arma Reforger. Calculate precise mortar, artillery, and MLRS fire missions with grid coordinates and elevation support.">
    <meta property="og:image" content="https://armamortars.org/icon.png">
    <meta property="og:site_name" content="ArmaMortars.org">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://armamortars.org/">
    <meta name="twitter:title" content="Arma Reforger Mortar & Artillery Calculator | Fire Mission Planner">
    <meta name="twitter:description" content="Free ballistic calculator for Arma Reforger. Calculate precise mortar, artillery, and MLRS fire missions with grid coordinates and elevation support.">
    <meta name="twitter:image" content="https://armamortars.org/icon.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    
    <!-- Preload critical resources for LCP -->
    <link rel="preload" as="image" href="arma-reforger-logo.png" fetchpriority="high">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#6b8e23">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
   {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Arma Reforger Mortar & Artillery Calculator",
    "alternateName": "Arma Reforger Mortar & Artillery Calculator",
    "description": "Military ballistic calculator for Arma Reforger supporting mortars, howitzers, artillery, and MLRS fire missions with grid coordinates.",
    "applicationCategory": "GameApplication",
    "featureList": [
        "Mortar fire missions",
        "Artillery calculations",
        "MLRS rocket systems",
        "Grid coordinate support",
        "Fire for Effect patterns",
        "Observer corrections"
        ]
    }
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Main Header -->
    <header class="header">
        <img src="arma-reforger-logo.png" alt="Arma Reforger Logo - Mortar & Artillery Calculator" class="logo" width="80" height="80" fetchpriority="high">
        <h1>Arma Reforger Mortar & Artillery Calculator</h1>
    </header>
    
    <!-- New Feature Banner -->
    <div style="background: linear-gradient(135deg, rgba(107, 142, 35, 0.25) 0%, rgba(107, 142, 35, 0.15) 100%); border: 2px solid #6b8e23; border-radius: 6px; padding: 15px 20px; margin: 20px auto; max-width: 900px; box-shadow: 0 4px 12px rgba(107, 142, 35, 0.2);">
        <div style="display: flex; align-items: center; gap: 15px;">
            <div style="font-size: 32px; line-height: 1;">üîó</div>
            <div style="flex: 1;">
                <div style="color: #8fbc1e; font-weight: bold; font-size: 16px; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 0.5px;">‚ú® New Feature: Session Sharing</div>
                <div style="color: #c8d4a0; font-size: 14px; line-height: 1.5;">Share fire missions with your squad! Click the <strong style="color: #8fbc1e;">üîó Share</strong> button to generate a shareable link or paste a link to import mission data instantly.</div>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <main>
    <div id="loading" role="status" aria-live="polite">Loading ballistic data...</div>
    
    <div id="app" style="display: none;">
        <!-- Supported Weapon Systems -->
        <div class="container">
            <h2 style="margin-top: 0;">üéØ Supported Weapon Systems</h2>
            <div class="solution-grid weapons">
                <div class="solution-item weapon-mortar">
                    <div class="weapon-title">üí£ MORTARS</div>
                    <div class="weapon-list">
                        ‚Ä¢ <a href="https://en.wikipedia.org/wiki/M252_mortar" target="_blank" rel="noopener">US M252 (81mm)</a><br>
                        ‚Ä¢ <a href="https://en.wikipedia.org/wiki/2B14_Podnos" target="_blank" rel="noopener">Soviet 2B14 (82mm)</a>
                    </div>
                </div>
                <div class="solution-item weapon-howitzer">
                    <div class="weapon-title">üî´ HOWITZERS</div>
                    <div class="weapon-list">
                         ‚Ä¢ <a href="https://en.wikipedia.org/wiki/M119_howitzer" target="_blank" rel="noopener">US M119 (105mm)</a><br>
                         ‚Ä¢ <a href="https://en.wikipedia.org/wiki/122_mm_howitzer_2A18_(D-30)" target="_blank" rel="noopener">Soviet D-30 (122mm)</a>
                    </div>
                </div>
                <div class="solution-item weapon-mlrs">
                    <div class="weapon-title">üöÄ MLRS</div>
                    <div class="weapon-list">
                        ‚Ä¢ <a href="https://en.wikipedia.org/wiki/BM-21_Grad" target="_blank" rel="noopener">BM-21 Grad (122mm)</a><br>
                        ‚Ä¢ <a href="https://en.wikipedia.org/wiki/Type_63_multiple_rocket_launcher" target="_blank" rel="noopener">Type-63 (107mm)</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- History Panel -->
        <div id="historyPanel" class="history-panel cls-hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h2 style="margin: 0;">üìú Mission History</h2>
                <button class="clear-history-btn" id="clearHistoryBtn">Clear All</button>
            </div>
            <div id="historyList"></div>
        </div>
        
        <div class="toggle-container">
            <span style="font-weight: 500; color: #b8c7a0; text-align: center;">Coordinate Input:</span>
            <div class="toggle-buttons">
                <div class="toggle-option active" id="toggleGrid" data-mode="grid">
                    üéØ Grid (047/069)
                </div>
                <div class="toggle-option" id="toggleMeters" data-mode="meters">
                    üìè Meters (X/Y)
                </div>
            </div>
        </div>
        
        <div class="container">
            <h2>1Ô∏è‚É£ Weapon System and Ammunition</h2>
            
            <div class="row">
                <div class="form-group">
                    <label for="mortarType">Weapon System Type</label>
                    <select id="mortarType">
                        <!-- Populated dynamically from ballistic-data.json -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="shellType">Ammunition Type</label>
                    <select id="shellType">
                        <!-- Populated dynamically from ballistic-data.json -->
                    </select>
                </div>
            </div>
            
            <h2>2Ô∏è‚É£ Weapon Position</h2>
                
                <!-- Grid Mode -->
                <div id="mortarGridMode" class="coord-mode active">
                    <div class="form-group">
                        <div class="row">
                            <div class="form-group">
                                <label for="mortarGridX">Grid X Coordinate</label>
                                <input type="text" id="mortarGridX" placeholder="047 or 0475" maxlength="4" inputmode="numeric" pattern="[0-9]*">
                            </div>
                            <div class="form-group">
                                <label for="mortarGridY">Grid Y Coordinate</label>
                                <input type="text" id="mortarGridY" placeholder="069 or 0695" maxlength="4" inputmode="numeric" pattern="[0-9]*">
                            </div>
                        </div>
                        <small style="color: #999; display: block; margin-top: -15px;">3-digit (100m squares) or 4-digit (10m precision)</small>
                    </div>
                </div>
                
                <!-- Meters Mode -->
                <div id="mortarMetersMode" class="coord-mode">
                    <div class="form-group">
                        <div class="row">
                            <div class="form-group">
                                <label for="mortarX">X Coordinate (meters)</label>
                                <input type="number" id="mortarX" placeholder="4800" step="0.1" min="0" max="99999.9" inputmode="decimal">
                            </div>
                            <div class="form-group">
                                <label for="mortarY">Y Coordinate (meters)</label>
                                <input type="number" id="mortarY" placeholder="7049" step="0.1" min="0" max="99999.9" inputmode="decimal">
                            </div>
                        </div>
                        <small style="color: #999; display: block; margin-top: -15px;">Map coordinates in meters (e.g., 4800.5, 7049.0)</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="mortarZ">Height (m ASL)</label>
                    <input type="number" id="mortarZ" placeholder="168" step="0.1" min="-1000" max="9999" inputmode="decimal">
                </div>
                
                <h2>3Ô∏è‚É£ Target Position</h2>
                
                <!-- Grid Mode -->
                <div id="targetGridMode" class="coord-mode active">
                    <div class="form-group">
                        <div class="row">
                            <div class="form-group">
                                <label for="targetGridX">Grid X Coordinate</label>
                                <input type="text" id="targetGridX" placeholder="085 or 0850" maxlength="4" inputmode="numeric" pattern="[0-9]*">
                            </div>
                            <div class="form-group">
                                <label for="targetGridY">Grid Y Coordinate</label>
                                <input type="text" id="targetGridY" placeholder="105 or 1050" maxlength="4" inputmode="numeric" pattern="[0-9]*">
                            </div>
                        </div>
                        <small style="color: #999; display: block; margin-top: -15px;">3-digit (100m squares) or 4-digit (10m precision)</small>
                    </div>
                </div>
                
                <!-- Meters Mode -->
                <div id="targetMetersMode" class="coord-mode">
                    <div class="form-group">
                        <div class="row">
                            <div class="form-group">
                                <label for="targetX">X Coordinate (meters)</label>
                                <input type="number" id="targetX" placeholder="4696" step="0.1" min="0" max="99999.9" inputmode="decimal">
                            </div>
                            <div class="form-group">
                                <label for="targetY">Y Coordinate (meters)</label>
                                <input type="number" id="targetY" placeholder="5516" step="0.1" min="0" max="99999.9" inputmode="decimal">
                            </div>
                        </div>
                        <small style="color: #999; display: block; margin-top: -15px;">Map coordinates in meters (e.g., 4696.0, 5516.0)</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="targetZ">Height (m ASL)</label>
                    <input type="number" id="targetZ" placeholder="64" step="0.1" min="-1000" max="9999" inputmode="decimal">
                </div>
                
            <div class="form-group">
                <label for="missionLabel">Mission Label (Optional)</label>
                <input type="text" id="missionLabel" placeholder="e.g., TRP 1, TGT AA1234, HILL 201" maxlength="20">
            </div>
            
            <!-- Range Indicator (pre-rendered to prevent CLS) -->
            <div id="rangeIndicator" class="cls-hidden" style="margin: 10px 0; padding: 8px 12px; border-radius: 4px; font-size: 12px; font-weight: 600; text-align: center;"></div>
            
            <!-- Rocket Selection Suggestion Banner -->
            <div id="rocketSuggestion" class="cls-hidden" style="margin-top: 10px; padding: 10px; background: linear-gradient(135deg, rgba(143, 188, 30, 0.15) 0%, rgba(107, 142, 35, 0.15) 100%); border: 1px solid rgba(143, 188, 30, 0.4); border-radius: 4px;">
                <div style="display: flex; align-items: center; justify-content: space-between; gap: 10px;">
                    <div style="flex: 1;">
                        <div id="suggestionTitle" style="color: #8fbc1e; font-size: 12px; font-weight: 600; margin-bottom: 3px;">üí° Recommendation</div>
                        <div id="suggestionText" style="color: #c8d4a0; font-size: 11px;"></div>
                    </div>
                    <div class="suggestion-buttons" style="display: flex; gap: 6px;">
                        <button type="button" id="acceptSuggestion" class="btn-press" style="padding: 8px 12px; background: linear-gradient(180deg, #8fbc1e 0%, #7aaa1a 100%); border: 1px solid #9fcc2e; border-radius: 3px; color: white; font-weight: 600; cursor: pointer; font-size: 11px; white-space: nowrap; margin: 0; width: auto;">
                            Use This
                        </button>
                        <button type="button" id="dismissSuggestion" style="padding: 8px 12px; background: rgba(100, 100, 100, 0.3); border: 1px solid rgba(150, 150, 150, 0.4); border-radius: 3px; color: #aaa; font-weight: 600; cursor: pointer; font-size: 11px; white-space: nowrap; margin: 0; width: auto;">
                            Dismiss
                        </button>
                    </div>
                </div>
            </div>
            
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button id="calculate" class="btn-press" style="flex: 3;">Compute Fire Mission</button>
                <button id="reset" class="btn-press" style="flex: 1; background: linear-gradient(180deg, #666 0%, #555 100%);">Reset</button>
                <button id="shareBtn" class="btn-press" style="flex: 1; background: linear-gradient(180deg, #6b8e23 0%, #5a7a1c 100%); border: 1px solid #8fbc1e;">üì§ Share</button>
            </div>
        </div>
        
        <div id="output" class="result"></div>
        
        <!-- Fire for Effect Container -->
        <div id="ffeContainer" class="cls-hidden" style="background: linear-gradient(135deg, rgba(55, 45, 70, 0.95) 0%, rgba(45, 35, 60, 0.95) 100%); padding: 15px; border-radius: 4px; margin-top: 10px; border: 1px solid rgba(143, 105, 188, 0.3);">
            <!-- FFE Mode Toggle -->
            <div id="ffeToggleContainer" style="margin-bottom: 15px;">
                <label style="display: flex; align-items: center; cursor: pointer; color: #d4c8e0; font-size: 13px; font-weight: 600;">
                    <input type="checkbox" id="ffeEnabled" style="margin-right: 8px; width: 16px; height: 16px; cursor: pointer;">
                    <span>üí• Enable Fire for Effect Pattern</span>
                </label>
            </div>
            
            <!-- Fire for Effect Widget (Dynamic) -->
            <div id="ffeWidget" style="display: none;">
                <h3 style="margin: 0 0 10px 0; font-size: 16px; color: #d4c8e0;">üí• Fire for Effect Pattern</h3>
                
                <div class="info" style="margin-bottom: 12px; background: rgba(60, 50, 80, 0.4); border-color: rgba(143, 105, 188, 0.3);">
                    üéØ Generate multi-round salvo patterns. <strong>Lateral sheaf</strong> for width coverage, <strong>linear sheaf</strong> for depth penetration, <strong>circular pattern</strong> for 360¬∞ saturation.
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;">
                    <div>
                        <label style="display: block; color: #c8b8d8; font-size: 13px; margin-bottom: 5px; font-weight: 600;">Sheaf Type</label>
                        <select id="ffePattern" style="width: 100%; padding: 8px; background: rgba(20, 15, 25, 0.8); border: 1px solid #5a4a62; border-radius: 3px; color: #d4c8e0; font-size: 13px;">
                            <option value="perpendicular">Lateral Sheaf (Width)</option>
                            <option value="along-bearing">Linear Sheaf (Depth)</option>
                            <option value="circular">Circular Pattern</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; color: #c8b8d8; font-size: 13px; margin-bottom: 5px; font-weight: 600;">Rounds per Salvo</label>
                        <select id="ffeRounds" style="width: 100%; padding: 8px; background: rgba(20, 15, 25, 0.8); border: 1px solid #5a4a62; border-radius: 3px; color: #d4c8e0; font-size: 13px;">
                            <option value="3">3 Rounds</option>
                            <option value="4">4 Rounds</option>
                            <option value="5" selected>5 Rounds</option>
                            <option value="6">6 Rounds</option>
                            <option value="7">7 Rounds</option>
                            <option value="8">8 Rounds</option>
                            <option value="9">9 Rounds</option>
                            <option value="10">10 Rounds</option>
                            <option value="11">11 Rounds</option>
                            <option value="12">12 Rounds</option>
                        </select>
                    </div>
                </div>
                
                <div id="ffeSpacingGroup" style="margin-bottom: 10px;">
                    <label style="display: block; color: #c8b8d8; font-size: 13px; margin-bottom: 5px; font-weight: 600;">Round Interval (meters)</label>
                    <input type="number" id="ffeSpacing" placeholder="50" value="50" min="10" max="500" step="10" style="width: 100%; padding: 8px; background: rgba(20, 15, 25, 0.8); border: 1px solid #5a4a62; border-radius: 3px; color: #d4c8e0; font-size: 13px;">
                    <small style="color: #a89fb8; display: block; margin-top: 3px; font-size: 11px;">Spacing between impact points (10-500m)</small>
                </div>
                
                <div id="ffeRadiusGroup" style="display: none; margin-bottom: 10px;">
                    <label style="display: block; color: #c8b8d8; font-size: 13px; margin-bottom: 5px; font-weight: 600;">Circle Radius (meters)</label>
                    <input type="number" id="ffeRadius" placeholder="100" value="100" min="20" max="500" step="10" style="width: 100%; padding: 8px; background: rgba(20, 15, 25, 0.8); border: 1px solid #5a4a62; border-radius: 3px; color: #d4c8e0; font-size: 13px;">
                    <small style="color: #a89fb8; display: block; margin-top: 3px; font-size: 11px;">Distance from center to impact points (20-500m)</small>
                </div>
                
                <button id="generateFFE" class="btn-press" style="width: 100%; padding: 10px; margin-top: 5px; background: linear-gradient(180deg, #8f69bc 0%, #7a58a8 100%); border: 1px solid #9f79cc; border-radius: 4px; color: white; font-weight: 600; cursor: pointer; font-size: 13px;">
                    Generate FFE Pattern
                </button>
                
                <button id="showBaseSolution" class="btn-press" style="display: none; width: 100%; padding: 10px; margin-top: 10px; background: linear-gradient(180deg, #666 0%, #555 100%); border: 1px solid #777; border-radius: 4px; color: white; font-weight: 600; cursor: pointer; font-size: 13px;">
                    ‚Üê Show Base Solution
                </button>
            </div>
        </div>
        
        <!-- Fire Correction Widget (Static) -->
        <div id="fireCorrectionWidget" class="cls-hidden" style="background: linear-gradient(135deg, rgba(40, 55, 45, 0.95) 0%, rgba(30, 45, 35, 0.95) 100%); padding: 15px; border-radius: 4px; margin-top: 10px; border: 1px solid rgba(107, 142, 35, 0.3);">
            <h3 id="fireCorrectionHeader" style="margin: 0 0 10px 0; font-size: 16px; color: #c8d4a0;">üîÑ Adjust Fire: Gun-Target (GT) line</h3>
            <div>
                
                <!-- FO Mode Toggle -->
                <div style="margin-bottom: 12px;">
                    <div style="display: flex; align-items: center; color: #a8b898; font-size: 13px; cursor: pointer;">
                        <input type="checkbox" id="foEnabled" style="margin-right: 8px; width: auto; height: auto;">
                        <span id="foToggleLabel">üî≠ Use Observer-Target (OT) line</span>
                    </div>
                </div>
                
                <!-- Observer Position Inputs -->
                <div id="foControls" style="display: none; margin-bottom: 12px; padding: 10px; background: rgba(15, 20, 17, 0.9); border-radius: 3px; border: 1px solid #2a3532;">
                    <div id="observerGridMode" class="coord-mode">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
                            <div>
                                <label class="observer-label">FO Grid X</label>
                                <input type="text" id="observerGridX" placeholder="060" maxlength="4" inputmode="numeric" pattern="[0-9]*" class="observer-input observer-input-grid" onkeydown="if(event.key === 'Enter') event.preventDefault();">
                            </div>
                            <div>
                                <label class="observer-label">FO Grid Y</label>
                                <input type="text" id="observerGridY" placeholder="080" maxlength="4" inputmode="numeric" pattern="[0-9]*" class="observer-input observer-input-grid" onkeydown="if(event.key === 'Enter') event.preventDefault();">
                            </div>
                        </div>
                    </div>
                    
                    <div id="observerMetersMode" class="coord-mode">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
                            <div>
                                <label class="observer-label">FO X (meters)</label>
                                <input type="number" id="observerX" placeholder="6000" step="0.1" min="0" max="99999.9" class="observer-input" onkeydown="if(event.key === 'Enter') event.preventDefault();">
                            </div>
                            <div>
                                <label class="observer-label">FO Y (meters)</label>
                                <input type="number" id="observerY" placeholder="8000" step="0.1" min="0" max="99999.9" class="observer-input" onkeydown="if(event.key === 'Enter') event.preventDefault();">
                            </div>
                        </div>
                    </div>
                    
                    <div id="otBearingDisplay" style="margin-top: 8px; padding: 6px; background: rgba(40, 55, 45, 0.8); border-radius: 3px; display: none;">
                        <div style="color: #8fbc1e; font-size: 11px;">
                            üß≠ <strong>OT:</strong> <span id="otBearingValue">-</span>¬∞ | <strong>GT:</strong> <span id="gtBearingValue">-</span>¬∞ | <strong>Œî:</strong> <span id="angleDiffValue">-</span>¬∞
                        </div>
                    </div>
                    <div id="observerWarning" style="margin-top: 8px; padding: 6px; background: rgba(168, 80, 80, 0.2); border: 1px solid #a85050; border-radius: 3px; display: none;">
                        <div style="color: #ff6b6b; font-size: 11px;">
                            ‚ö†Ô∏è Please enter observer coordinates to use OT mode
                        </div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;">
                    <div>
                        <label style="display: block; color: #a8b898; font-size: 13px; margin-bottom: 5px; font-weight: 600;">Left/Right (meters)</label>
                        <input type="text" inputmode="text" id="correctionLR" data-min="-500" data-max="500" onkeydown="if(event.key === 'Enter') event.preventDefault();" oninput="this.value = this.value.replace(/[^0-9\-+]/g, '').replace(/(?!^)[\-+]/g, '');" style="width: 100%; padding: 8px; background: rgba(20, 25, 22, 0.8); border: 1px solid #4a5a52; border-radius: 3px; color: #c8d4a0; font-size: 13px;">
                        <small style="color: #999; display: block; margin-top: 3px; font-size: 11px;">Right: +, Left: ‚àí (Range: -500 to +500m)</small>
                    </div>
                    <div>
                        <label style="display: block; color: #a8b898; font-size: 13px; margin-bottom: 5px; font-weight: 600;">Add/Drop (meters)</label>
                        <input type="text" inputmode="text" id="correctionAD" data-min="-500" data-max="500" onkeydown="if(event.key === 'Enter') event.preventDefault();" oninput="this.value = this.value.replace(/[^0-9\-+]/g, '').replace(/(?!^)[\-+]/g, '');" style="width: 100%; padding: 8px; background: rgba(20, 25, 22, 0.8); border: 1px solid #4a5a52; border-radius: 3px; color: #c8d4a0; font-size: 13px;">
                        <small style="color: #999; display: block; margin-top: 3px; font-size: 11px;">Add: +, Drop: ‚àí (Range: -500 to +500m)</small>
                    </div>
                </div>
                <button id="applyCorrection" disabled style="width: 100%; padding: 10px; margin-top: 5px; background: linear-gradient(180deg, #555 0%, #444 100%); border: 1px solid #8fbc1e; border-radius: 4px; color: white; font-weight: 600; cursor: not-allowed; font-size: 13px; transition: all 0.15s ease; opacity: 0.5;">
                    Apply Fire Correction
                </button>
                <button id="undoCorrection" class="btn-press" style="display: none; width: 100%; padding: 10px; margin-top: 10px; background: linear-gradient(180deg, #d94a4a 0%, #c93a3a 100%); border: 1px solid #ff6b6b; border-radius: 4px; color: white; font-weight: 600; cursor: pointer; font-size: 13px;">
                    ‚Ü∂ Undo Correction - Restore Original Target
                </button>
            </div>
        </div>
    </div>
    
    </main>
    
    <!-- Share Session Modal -->
    <div id="shareModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.75); z-index: 10000; align-items: center; justify-content: center;">
        <div style="background: rgba(20, 25, 22, 0.98); border: 2px solid #6b8e23; border-radius: 8px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);">
            <!-- Modal Header -->
            <div style="background: linear-gradient(180deg, #6b8e23 0%, #5a7a1c 100%); padding: 15px 20px; border-bottom: 1px solid #8fbc1e; display: flex; justify-content: space-between; align-items: center;">
                <h2 style="margin: 0; color: white; font-size: 18px; font-weight: 700;">üì§ Share Fire Mission</h2>
                <button id="closeShareModalBtn" class="btn-press" style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.3); color: white; padding: 5px 12px; border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: bold;">‚úï</button>
            </div>
            
            <!-- Modal Body -->
            <div style="padding: 20px;">
                <!-- Error Message Container -->
                <div id="shareErrorMessage" style="display: none; background: rgba(200, 80, 80, 0.15); border: 1px solid rgba(200, 80, 80, 0.4); border-radius: 4px; padding: 12px; margin-bottom: 15px; color: #ff6b6b; font-size: 13px;"></div>
                
                <!-- Share Link Section -->
                <div id="shareLinkSection" style="display: none; margin-bottom: 25px;">
                    <h3 style="color: #c8d4a0; font-size: 15px; margin: 0 0 10px 0; font-weight: 600;">Share Link</h3>
                    <p style="color: #95a585; font-size: 12px; margin: 0 0 10px 0;">Copy this link and send it to your squad. Anyone with the link can load this fire mission.</p>
                    
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <input type="text" id="shareURLField" readonly placeholder="Share URL will appear here..." style="flex: 1; min-width: 250px; padding: 10px; background: rgba(20, 25, 22, 0.8); border: 1px solid #4a5a52; border-radius: 4px; color: #c8d4a0; font-size: 12px; font-family: monospace; user-select: all;">
                        <button id="copyURLBtn" class="btn-press" style="padding: 10px 15px; background: linear-gradient(180deg, #6b8e23 0%, #5a7a1c 100%); border: 1px solid #8fbc1e; border-radius: 4px; color: white; font-weight: 600; cursor: pointer; font-size: 13px; white-space: nowrap;">üìã Copy</button>
                    </div>
                </div>
                
                <div id="shareDivider" style="display: none; border-top: 1px solid #3a4a45; margin: 20px 0;"></div>
                
                <!-- Load from Paste Section -->
                <div>
                    <h3 style="color: #c8d4a0; font-size: 15px; margin: 0 0 10px 0; font-weight: 600;">Load Shared Mission</h3>
                    <p style="color: #95a585; font-size: 12px; margin: 0 0 10px 0;">Paste a share link or JSON data to load a fire mission from a squad member.</p>
                    
                    <textarea id="sharePasteField" placeholder="Paste share link or JSON data here..." style="width: 100%; min-height: 100px; padding: 10px; background: rgba(20, 25, 22, 0.8); border: 1px solid #4a5a52; border-radius: 4px; color: #c8d4a0; font-size: 12px; font-family: monospace; resize: vertical; margin-bottom: 10px;"></textarea>
                    
                    <button id="loadPasteBtn" class="btn-press" style="width: 100%; padding: 10px; background: linear-gradient(180deg, #6b8e23 0%, #5a7a1c 100%); border: 1px solid #8fbc1e; border-radius: 4px; color: white; font-weight: 600; cursor: pointer; font-size: 13px;">
                        ‚¨á Load Mission
                    </button>
                </div>
            </div>
            
            <!-- Modal Footer -->
            <div style="background: rgba(20, 25, 22, 0.6); padding: 15px 20px; border-top: 1px solid #3a4a45; text-align: right;">
                <button id="closeShareModalBtn2" class="btn-press" style="padding: 8px 20px; background: linear-gradient(180deg, #555 0%, #444 100%); border: 1px solid #666; border-radius: 4px; color: #c8d4a0; font-weight: 600; cursor: pointer; font-size: 13px;">
                    Close
                </button>
            </div>
        </div>
    </div>
    
    <!-- Footer - Outside main and app containers to ensure visibility at all times -->
    <footer style="text-align: center; padding: 20px; margin-top: 20px; color: #95a585; font-size: 12px; border-top: 1px solid #3a4a45;">
        <p style="margin: 15px 0;">
            <a href="https://github.com/GeNeFRAG/ArmaReforger/issues/new?labels=bug&title=%5BBUG%5D%20&body=%23%23%20What%27s%20broken%3F%0A%0A%0A%23%23%20How%20did%20it%20happen%3F%0A1.%20%0A2.%20%0A3.%20%0A%0A%23%23%20What%20weapon%2Fmap%20were%20you%20using%3F%0A" 
               target="_blank" 
               rel="noopener noreferrer" 
               class="bug-report-btn">
                üêõ Report Bug
            </a>
        </p>
        <p style="margin: 10px 0;">¬© 2026 ArmaMortars.org | OpenSource Arma Reforger Ballistic Calculator v2.8.0</p>
        <p style="margin: 10px 0;">
            <a href="https://github.com/GeNeFRAG/ArmaReforger/tree/main/mortar_core/" target="_blank" rel="noopener noreferrer" style="color: #8fbc1e; text-decoration: none;">‚≠ê View on GitHub</a>
            | 
            <a href="https://github.com/GeNeFRAG/ArmaReforger/blob/main/LICENSE" target="_blank" rel="noopener noreferrer" style="color: #8fbc1e; text-decoration: none;">üìÑ MIT License</a>
        </p>
        <p style="margin: 10px 0;">
            <a href="http://discord.gg/Gb8Nt92J3m" target="_blank" rel="noopener noreferrer" style="color: #8fbc1e; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;"><img src="FIST_Discord.webp" alt="F.I.S.T Discord" width="16" height="16" style="height: 16px; width: 16px; vertical-align: middle; display: inline-block;">F.I.S.T Discord</a>
        </p>
    </footer>
    
    <script src="BallisticCalculator.js?v=2.8.0"></script>
    <script type="module" src="ui_js/main.js"></script>
</body>
</html>
