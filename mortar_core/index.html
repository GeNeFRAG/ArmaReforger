<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Arma Reforger Military Ballistic Calculator for planning Mortar Fire Missions</title>
    <meta name="title" content="Arma Reforger Military Ballistic Calculator for planning Mortar Fire Missions">
    <meta name="description" content="Free online ballistic calculator for Arma Reforger. Calculate precise firing missions with grid coordinates, elevation, azimuth, fire for effect and time of flight. Supports US M252 81mm and Soviet 2B14 82mm mortars in the moment.">
    <meta name="keywords" content="arma reforger, mortar calculator, firing missons, ballistics, grid coordinates, artillery calculator, mil system, US mortar, Soviet mortar, game tool">
    <meta name="author" content="ArmaMortars.org">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://armamortars.org/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://armamortars.org/">
    <meta property="og:title" content="Arma Reforger Military Ballistic Calculator for planning Mortar Fire Missions">
    <meta property="og:description" content="Free online mortar calculator for Arma Reforger. Calculate precise firing missions with grid coordinates, elevation, azimuth, fire for effect and time of flight.">
    <meta property="og:image" content="https://armamortars.org/icon.png">
    <meta property="og:site_name" content="ArmaMortars.org">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://armamortars.org/">
    <meta name="twitter:title" content="Arma Reforger Ballistic Calculator">
    <meta name="twitter:description" content="Free online ballistic calculator for Arma Reforger. Calculate precise mortar firing missons in Arma Reforger with grid coordinates.">
    <meta name="twitter:image" content="https://armamortars.org/icon.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#6b8e23">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Arma Reforger Ballistic Calculator",
      "url": "https://armamortars.org/",
      "description": "Calculate precise firing missons for Arma Reforger Mortar Weapon Systems with grid coordinates, elevation, ballistics data, fire corrections and fire for effect patterns.",
      "applicationCategory": "GameApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "150"
      }
    }
    </script>
    
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #1a1f1e 0%, #2a3532 100%);
            color: #e8e8e8;
            min-height: 100vh;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #6b8e23;
        }
        .logo {
            width: 80px;
            height: auto;
            filter: brightness(0) invert(1) drop-shadow(2px 2px 4px rgba(0,0,0,0.5));
        }
        h1 {
            color: #c8d4a0;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            font-size: 1.8em;
            text-align: center;
        }
        h2 {
            color: #b8c7a0;
            font-size: 1.1em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 25px;
            margin-bottom: 15px;
            border-left: 4px solid #6b8e23;
            padding-left: 12px;
        }
        .container {
            background: rgba(35, 45, 42, 0.85);
            padding: 25px;
            border-radius: 4px;
            border: 1px solid #3a4a45;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 6px;
            color: #b8c7a0;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #4a5a52;
            border-radius: 2px;
            font-size: 14px;
            background: #2a3532;
            color: #e8e8e8;
            transition: border-color 0.2s;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #6b8e23;
            background: #323e3a;
        }
        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        button {
            background: linear-gradient(180deg, #7a9f35 0%, #6b8e23 100%);
            color: white;
            padding: 14px 30px;
            border: 1px solid #5a7e1f;
            border-radius: 2px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.2s;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        }
        button:hover {
            background: linear-gradient(180deg, #8ab040 0%, #7a9f35 100%);
            box-shadow: 0 3px 8px rgba(0,0,0,0.4);
        }
        button:active {
            transform: translateY(1px);
        }
        button:disabled {
            background: #4a5550;
            border-color: #3a4540;
            cursor: not-allowed;
            opacity: 0.5;
        }
        .btn-press {
            transition: all 0.15s ease;
        }
        .btn-press:active {
            transform: scale(0.95);
            box-shadow: 0 0 20px rgba(143, 188, 30, 0.8);
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .result {
            background: rgba(35, 45, 42, 0.9);
            padding: 20px;
            margin-top: 20px;
            border-radius: 4px;
            display: none;
            border: 1px solid #3a4a45;
        }
        .result.active {
            display: block;
        }
        .result.success {
            background: rgba(35, 45, 42, 0.85);
            border: 2px solid #6b8e23;
        }
        .result.error {
            background: rgba(35, 45, 42, 0.85);
            border: 2px solid #a85050;
        }
        .result h2 {
            margin-top: 0;
            color: #d8e4b0;
        }
        .solution-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        .solution-item {
            background: rgba(20, 25, 22, 0.8);
            padding: 14px;
            border-radius: 2px;
            border: 1px solid #4a5a52;
        }
        .solution-item strong {
            display: block;
            color: #a8b898;
            font-size: 11px;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .solution-item .value {
            font-size: 22px;
            color: #e8f4d0;
            font-weight: bold;
        }
        .info {
            background: rgba(60, 80, 95, 0.3);
            border: 1px solid #4a6a75;
            padding: 12px;
            border-radius: 2px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #b8c8d0;
        }
        #loading {
            text-align: center;
            padding: 40px 20px;
            color: #95a585;
            font-size: 16px;
        }
        .toggle-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(107, 142, 35, 0.1);
            border-radius: 8px;
        }
        .toggle-buttons {
            display: flex;
            gap: 10px;
        }
        .toggle-option {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 14px;
            flex: 1;
            text-align: center;
            white-space: nowrap;
        }
        .toggle-option.active {
            background: #6b8e23;
            border-color: #8fbc1e;
            box-shadow: 0 2px 8px rgba(107, 142, 35, 0.4);
        }
        .toggle-option:hover:not(.active) {
            background: rgba(255, 255, 255, 0.15);
        }
        .coord-mode {
            display: none;
        }
        .coord-mode.active {
            display: block;
        }
        .history-panel {
            background: rgba(35, 45, 42, 0.85);
            padding: 20px;
            border-radius: 4px;
            border: 1px solid #3a4a45;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
            margin-bottom: 20px;
            max-height: 300px;
            overflow-y: auto;
        }
        .history-item {
            background: rgba(20, 25, 22, 0.8);
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 2px;
            border: 1px solid #4a5a52;
            cursor: pointer;
            transition: all 0.2s;
        }
        .history-item:hover {
            background: rgba(30, 35, 32, 0.9);
            border-color: #6b8e23;
        }
        .history-item.active {
            border: 2px solid #6b8e23;
            background: rgba(40, 55, 45, 0.9);
        }
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        .history-title {
            color: #c8d4a0;
            font-weight: 600;
            font-size: 13px;
        }
        .history-time {
            color: #95a585;
            font-size: 11px;
        }
        .history-details {
            color: #b8c8d0;
            font-size: 12px;
            margin-top: 5px;
        }
        .history-delete {
            background: transparent;
            border: none;
            color: #a85050;
            cursor: pointer;
            padding: 4px 8px;
            font-size: 16px;
            margin: 0;
            width: auto;
            transition: all 0.2s;
        }
        .history-delete:hover {
            color: #ff6b6b;
            transform: scale(1.2);
        }
        .clear-history-btn {
            background: linear-gradient(180deg, #a85050 0%, #984040 100%);
            border-color: #883030;
            padding: 8px 16px;
            font-size: 12px;
            margin-top: 10px;
        }
        .observer-label {
            display: block;
            color: #95a585;
            font-size: 11px;
            margin-bottom: 3px;
        }
        .observer-input {
            width: 100%;
            padding: 6px;
            background: rgba(20, 25, 22, 0.8);
            border: 1px solid #4a5a52;
            border-radius: 3px;
            color: #c8d4a0;
            font-size: 12px;
        }
        .observer-input-grid {
            font-family: monospace;
        }
        @media (max-width: 600px) {
            .row {
                grid-template-columns: 1fr;
            }
            .solution-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Main Header -->
    <header class="header">
        <img src="arma-reforger-logo.png" alt="Arma Reforger Logo - Mortar Calculator" class="logo">
        <h1>ARMA REFORGER Ballistic Mission Planner</h1>
    </header>
    
    <!-- Main Content -->
    <main>
    <div id="loading" role="status" aria-live="polite">Loading ballistic data...</div>
    
    <div id="app" style="display: none;">
        <div class="info">
            ‚ÑπÔ∏è Enter weapon system and target coordinates to calculate firing mission. Mortar charge is automatically selected for optimal range.
        </div>
        
        <!-- History Panel -->
        <div id="historyPanel" class="history-panel" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h2 style="margin: 0;">üìú Mission History</h2>
                <button class="clear-history-btn" onclick="clearHistory()">Clear All</button>
            </div>
            <div id="historyList"></div>
        </div>
        
        <div class="toggle-container">
            <span style="font-weight: 500; color: #b8c7a0; text-align: center;">Coordinate Input:</span>
            <div class="toggle-buttons">
                <div class="toggle-option active" onclick="setCoordMode('grid')" id="toggleGrid">
                    üéØ Grid (047/069)
                </div>
                <div class="toggle-option" onclick="setCoordMode('meters')" id="toggleMeters">
                    üìè Meters (X/Y)
                </div>
            </div>
        </div>
        
        <div class="container">
            <h2>1Ô∏è‚É£ Weapon System and Ammunition</h2>
            
            <div class="row">
                <div class="form-group">
                    <label for="mortarType">Weapon System Type</label>
                    <select id="mortarType">
                        <!-- Populated dynamically from ballistic-data.json -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="shellType">Ammunition Type</label>
                    <select id="shellType">
                        <!-- Populated dynamically from ballistic-data.json -->
                    </select>
                </div>
            </div>
            
            <h2>2Ô∏è‚É£ Weapon Position</h2>
                
                <!-- Grid Mode -->
                <div id="mortarGridMode" class="coord-mode active">
                    <div class="form-group">
                        <div class="row">
                            <div class="form-group">
                                <label for="mortarGridX">Grid X Coordinate</label>
                                <input type="text" id="mortarGridX" placeholder="047 or 0475" maxlength="4" inputmode="numeric" pattern="[0-9]*" style="font-family: monospace; font-size: 16px;">
                            </div>
                            <div class="form-group">
                                <label for="mortarGridY">Grid Y Coordinate</label>
                                <input type="text" id="mortarGridY" placeholder="069 or 0695" maxlength="4" inputmode="numeric" pattern="[0-9]*" style="font-family: monospace; font-size: 16px;">
                            </div>
                        </div>
                        <small style="color: #999; display: block; margin-top: -15px;">3-digit (10m squares) or 4-digit (1m precision)</small>
                    </div>
                </div>
                
                <!-- Meters Mode -->
                <div id="mortarMetersMode" class="coord-mode">
                    <div class="form-group">
                        <div class="row">
                            <div class="form-group">
                                <label for="mortarX">X Coordinate (meters)</label>
                                <input type="number" id="mortarX" placeholder="4800" step="0.1" min="0" max="99999.9" inputmode="decimal">
                            </div>
                            <div class="form-group">
                                <label for="mortarY">Y Coordinate (meters)</label>
                                <input type="number" id="mortarY" placeholder="7049" step="0.1" min="0" max="99999.9" inputmode="decimal">
                            </div>
                        </div>
                        <small style="color: #999; display: block; margin-top: -15px;">Map coordinates in meters (e.g., 4800.5, 7049.0)</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="mortarZ">Height (m ASL)</label>
                    <input type="number" id="mortarZ" placeholder="168" step="0.1" min="-1000" max="9999" inputmode="decimal">
                </div>
                
                <h2>Target Position</h2>
                
                <!-- Grid Mode -->
                <div id="targetGridMode" class="coord-mode active">
                    <div class="form-group">
                        <div class="row">
                            <div class="form-group">
                                <label for="targetGridX">Grid X Coordinate</label>
                                <input type="text" id="targetGridX" placeholder="085 or 0850" maxlength="4" inputmode="numeric" pattern="[0-9]*" style="font-family: monospace; font-size: 16px;">
                            </div>
                            <div class="form-group">
                                <label for="targetGridY">Grid Y Coordinate</label>
                                <input type="text" id="targetGridY" placeholder="105 or 1050" maxlength="4" inputmode="numeric" pattern="[0-9]*" style="font-family: monospace; font-size: 16px;">
                            </div>
                        </div>
                        <small style="color: #999; display: block; margin-top: -15px;">3-digit (10m squares) or 4-digit (1m precision)</small>
                    </div>
                </div>
                
                <!-- Meters Mode -->
                <div id="targetMetersMode" class="coord-mode">
                    <div class="form-group">
                        <div class="row">
                            <div class="form-group">
                                <label for="targetX">X Coordinate (meters)</label>
                                <input type="number" id="targetX" placeholder="4696" step="0.1" min="0" max="99999.9" inputmode="decimal">
                            </div>
                            <div class="form-group">
                                <label for="targetY">Y Coordinate (meters)</label>
                                <input type="number" id="targetY" placeholder="5516" step="0.1" min="0" max="99999.9" inputmode="decimal">
                            </div>
                        </div>
                        <small style="color: #999; display: block; margin-top: -15px;">Map coordinates in meters (e.g., 4696.0, 5516.0)</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="targetZ">Height (m ASL)</label>
                    <input type="number" id="targetZ" placeholder="64" step="0.1" min="-1000" max="9999" inputmode="decimal">
                </div>
                
                <div class="info" style="margin-top: 15px;">
                    üìç Range, Azimuth, and Height Difference will be computed automatically from coordinates
                </div>
            
            <h2>3Ô∏è‚É£ Fire for Effect (Optional)</h2>
            
            <div class="info" style="margin-bottom: 15px;">
                üéØ Engage area targets with multiple rounds. <strong>Lateral sheaf</strong> for width coverage, <strong>linear sheaf</strong> for depth penetration, <strong>circular pattern</strong> for 360¬∞ area saturation. <strong>Uses corrected target coordinates if applied.</strong>
            </div>
            
            <div class="row">
                <div class="form-group">
                    <label for="ffeEnabled">
                        <input type="checkbox" id="ffeEnabled" style="margin-right: 8px; width: auto; height: auto;">
                        Enable Fire for Effect
                    </label>
                </div>
            </div>
            
            <div id="ffeControls" style="display: none;">
                <div class="row">
                    <div class="form-group">
                        <label for="ffePattern">Sheaf Type</label>
                        <select id="ffePattern">
                            <option value="perpendicular">Lateral Sheaf (Width Coverage)</option>
                            <option value="along-bearing">Linear Sheaf (Depth Penetration)</option>
                            <option value="circular">Circular Pattern (Area Saturation)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="ffeRounds">Rounds per Salvo</label>
                        <select id="ffeRounds">
                            <option value="3">3 Rounds</option>
                            <option value="4">4 Rounds</option>
                            <option value="5" selected>5 Rounds</option>
                            <option value="6">6 Rounds</option>
                            <option value="7">7 Rounds</option>
                            <option value="8">8 Rounds</option>
                            <option value="9">9 Rounds</option>
                            <option value="10">10 Rounds</option>
                            <option value="11">11 Rounds</option>
                            <option value="12">12 Rounds</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group" id="ffeSpacingGroup">
                    <label for="ffeSpacing">Round Interval (meters)</label>
                    <input type="number" id="ffeSpacing" placeholder="50" value="50" min="10" max="500" step="10" inputmode="decimal">
                    <small style="color: #999; display: block; margin-top: 5px;">Spacing between rounds (10-500m)</small>
                </div>
                
                <div class="form-group" id="ffeRadiusGroup" style="display: none;">
                    <label for="ffeRadius">Circle Radius (meters)</label>
                    <input type="number" id="ffeRadius" placeholder="100" value="100" min="20" max="500" step="10" inputmode="decimal">
                    <small style="color: #999; display: block; margin-top: 5px;">Distance from center to impact points (20-500m)</small>
                </div>
            </div>
            
            <div class="form-group">
                <label for="missionLabel">Mission Label (Optional)</label>
                <input type="text" id="missionLabel" placeholder="e.g., TRP 1, TGT AA1234, HILL 201" maxlength="20">
                <small style="color: #999; display: block; margin-top: 5px;">NATO-style identifier: Target Reference Point, Grid, or Designation</small>
            </div>
            
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button id="calculate" class="btn-press" style="flex: 3;">Compute Fire Mission</button>
                <button id="reset" class="btn-press" style="flex: 1; background: linear-gradient(180deg, #666 0%, #555 100%);">Reset</button>
            </div>
        </div>
        
        <div id="output" class="result"></div>
        
        <!-- Fire Correction Widget (Static) -->
        <div id="fireCorrectionWidget" style="display: none; background: linear-gradient(135deg, rgba(40, 55, 45, 0.95) 0%, rgba(30, 45, 35, 0.95) 100%); padding: 15px; border-radius: 4px; margin-top: 10px; border: 1px solid rgba(107, 142, 35, 0.3);">
            <h3 style="margin: 0 0 10px 0; font-size: 16px; color: #c8d4a0;">üîÑ Adjust Fire <span id="selectedChargeDisplay" style="color: #8fbc1e;"></span></h3>
            <div>
                <div style="color: #95a585; font-size: 12px; margin-bottom: 12px;">
                    Observer corrections: Left/Right shifts azimuth. Add/Drop changes range.
                </div>
                
                <!-- FO Mode Toggle -->
                <div style="margin-bottom: 12px;">
                    <div style="display: flex; align-items: center; color: #a8b898; font-size: 13px; cursor: pointer;">
                        <input type="checkbox" id="foEnabled" onchange="toggleFOControls(this);" style="margin-right: 8px; width: auto; height: auto;">
                        <span onclick="const cb = window.DOMCache.getElement('foEnabled', false, true); if (cb) { cb.checked = !cb.checked; toggleFOControls(cb); }">üî≠ <strong>FO Mode:</strong> Apply corrections from Observer's perspective</span>
                    </div>
                    <small style="color: #999; display: block; margin-top: 3px; margin-left: 24px; font-size: 11px;">Use Observer-Target (OT) line instead of Gun-Target (GT) line</small>
                </div>
                
                <!-- Observer Position Inputs -->
                <div id="foControls" style="display: none; margin-bottom: 12px; padding: 10px; background: rgba(15, 20, 17, 0.9); border-radius: 3px; border: 1px solid #2a3532;">
                    <div id="observerGridMode" class="coord-mode">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
                            <div>
                                <label class="observer-label">FO Grid X</label>
                                <input type="text" id="observerGridX" placeholder="060" maxlength="4" inputmode="numeric" pattern="[0-9]*" class="observer-input observer-input-grid" onkeydown="if(event.key === 'Enter') event.preventDefault();">
                            </div>
                            <div>
                                <label class="observer-label">FO Grid Y</label>
                                <input type="text" id="observerGridY" placeholder="080" maxlength="4" inputmode="numeric" pattern="[0-9]*" class="observer-input observer-input-grid" onkeydown="if(event.key === 'Enter') event.preventDefault();">
                            </div>
                        </div>
                    </div>
                    
                    <div id="observerMetersMode" class="coord-mode">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
                            <div>
                                <label class="observer-label">FO X (meters)</label>
                                <input type="number" id="observerX" placeholder="6000" step="0.1" min="0" max="99999.9" class="observer-input" onkeydown="if(event.key === 'Enter') event.preventDefault();">
                            </div>
                            <div>
                                <label class="observer-label">FO Y (meters)</label>
                                <input type="number" id="observerY" placeholder="8000" step="0.1" min="0" max="99999.9" class="observer-input" onkeydown="if(event.key === 'Enter') event.preventDefault();">
                            </div>
                        </div>
                    </div>
                    
                    <div id="otBearingDisplay" style="margin-top: 8px; padding: 6px; background: rgba(40, 55, 45, 0.8); border-radius: 3px; display: none;">
                        <div style="color: #8fbc1e; font-size: 11px;">
                            üß≠ <strong>OT:</strong> <span id="otBearingValue">-</span>¬∞ | <strong>GT:</strong> <span id="gtBearingValue">-</span>¬∞ | <strong>Œî:</strong> <span id="angleDiffValue">-</span>¬∞
                        </div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;">
                    <div>
                        <label style="display: block; color: #a8b898; font-size: 13px; margin-bottom: 5px; font-weight: 600;">Left/Right (meters)</label>
                        <input type="number" id="correctionLR" min="-500" max="500" step="1" onkeydown="if(event.key === 'Enter') event.preventDefault();" style="width: 100%; padding: 8px; background: rgba(20, 25, 22, 0.8); border: 1px solid #4a5a52; border-radius: 3px; color: #c8d4a0; font-size: 13px;">
                        <small style="color: #999; display: block; margin-top: 3px; font-size: 11px;">Right: +, Left: ‚àí (Range: -500 to +500m)</small>
                    </div>
                    <div>
                        <label style="display: block; color: #a8b898; font-size: 13px; margin-bottom: 5px; font-weight: 600;">Add/Drop (meters)</label>
                        <input type="number" id="correctionAD" min="-500" max="500" step="1" onkeydown="if(event.key === 'Enter') event.preventDefault();" style="width: 100%; padding: 8px; background: rgba(20, 25, 22, 0.8); border: 1px solid #4a5a52; border-radius: 3px; color: #c8d4a0; font-size: 13px;">
                        <small style="color: #999; display: block; margin-top: 3px; font-size: 11px;">Add: +, Drop: ‚àí (Range: -500 to +500m)</small>
                    </div>
                </div>
                <button id="applyCorrection" onclick="if (this.disabled) return; const btn = this; btn.style.background = 'linear-gradient(180deg, #8fbc1e 0%, #7aaa18 100%)'; btn.style.transform = 'scale(0.95)'; btn.textContent = '‚è≥ Applying...'; btn.disabled = true; applyFireCorrectionUI().then(() => { setTimeout(() => { btn.textContent = 'Apply Fire Correction'; btn.style.transform = 'scale(1)'; updateCorrectionPreview(); }, 100); });" disabled style="width: 100%; padding: 10px; margin-top: 5px; background: linear-gradient(180deg, #555 0%, #444 100%); border: 1px solid #8fbc1e; border-radius: 4px; color: white; font-weight: 600; cursor: not-allowed; font-size: 13px; transition: all 0.15s ease; opacity: 0.5;">
                    Apply Fire Correction
                </button>
                <button id="undoCorrection" onclick="undoCorrection();" class="btn-press" style="display: none; width: 100%; padding: 10px; margin-top: 10px; background: linear-gradient(180deg, #d94a4a 0%, #c93a3a 100%); border: 1px solid #ff6b6b; border-radius: 4px; color: white; font-weight: 600; cursor: pointer; font-size: 13px;">
                    ‚Ü∂ Undo Correction - Restore Original Target
                </button>
            </div>
        </div>
    </div>
    </main>
    
    <!-- Footer -->
    <footer style="text-align: center; padding: 20px; margin-top: 40px; color: #95a585; font-size: 12px; border-top: 1px solid #3a4a45;">
        <p>¬© 2025 ArmaMortars.org | Free Arma Reforger Mortar Calculator <span style="color: #6b7a65;">v1.7.0</span></p>
        <p>Accurate ballistic calculations for US M252 81mm and Soviet 2B14 82mm | Grid coordinate support</p>
        <p>
            <a href="https://github.com/GeNeFRAG/ArmaReforger/tree/main/mortar_core/" target="_blank" rel="noopener noreferrer" style="color: #8fbc1e; text-decoration: none;">‚≠ê View on GitHub</a>
            | 
            <a href="https://github.com/GeNeFRAG/ArmaReforger/blob/main/LICENSE" target="_blank" rel="noopener noreferrer" style="color: #8fbc1e; text-decoration: none;">üìÑ MIT License</a>
        </p>
    </footer>
    
    <script src="MortarCalculator.js?v=1.7.0"></script>
    <script type="module" src="ui_js/main.js?t=1767285773"></script>
</body>
</html>
